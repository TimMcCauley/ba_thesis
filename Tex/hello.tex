\documentclass[10pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[german]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{color}
\usepackage{hyperref}
\author{Amandus Stefan Butzer}
\title{Erstellung eines Routing-Profils auf Basis von OSM / Öffentlichen Daten für Feuerwehrfahrzeuge}
\date{\today}

\begin{document}

\maketitle

(\section{Danksagung})

\section{Kurzfassung}

\section{abstract}

\section{Einleitung}

Zum Zeitpunkt der Erstellung dieser Arbeit ist der Verfasser als Hilfswissenschaftler in der Geoinformatik Abteilung des Geographischen Instituts der Ruprecht-Karls-Universität Heidelberg als Mitarbeiter des \href{http://www.openrouteservice.org}{openrouteservice}(ORS) tätig. Der ORS bietet neben einem Geocoding, Routing und Locations Service auch einen Isochrones Service an. Immer wieder wurden Anfragen bezüglich Erreichbarkeitsanalysen aus dem Rettungs- und Brandschutzwesen erhalten. Für Polizei, Rettungsdienst und Feuerwehr geht es vor allem um das Einhalten amtlich vorgegebener Hilfsfristen. Im Gegensatz zum Rettungsdienst, welcher in den Zuständigkeitsbereich der Bundesländer fällt, ist der Brandschutz eine kommunale Aufgabe und unterliegt nur in manchen Bundesländern bestimmten Standards \cite{brandschutz bedarfsplan}.

Da mit dem Isochrones-Service des ORS Erreichbarkeitsanalysen durchgeführt werden, kann dieser für die Erstellung eines Brandschutzbedarfsplans genutzt werden. Bemängelt wurde allerdings, dass die Einsatzfahrzeuge in der Regel weit über das berechnete Gebiet für eine gegebene Zeit hinauskommen.

In dieser Arbeit wurde daher ein Emergency-Routing-Profil in Kooperation mit der \href{https://www.feuerwehr-luetzelburg.de}{Freiwilligen Feuerwehr Lützelburg} entwickelt. Die Implementierung ist auf eine Fahrzeugklasse der Feuerwehr begrenzt. Das Profil wurde derart gestaltet, dass Erweiterungen für diverse Einsatzfahrzeuge sehr einfach möglich sind, die im Rahmen dieser Batchelor Arbeit aber nicht erarbeitet wurden. 

Das ..... basiert auf dem ORS Backend, welches um die für das zusätzliche Profil benötigten Java Funktionen erweitert wurde. Zur Darstellung wurde das ORS Frontend mit Java-Script angepasst. 
weitere Infos über technic details? 

\subsection{Motivation}

STVO
Anwendbar für fast alle Einsatzfahrzeuge 

\section{Theoretische Grundlagen}

Als Grundlage für die Berechnung kürzester Wege bedienen wir uns einer Speicherform der Mathematik, dem Graphen.

\subsection{Graphen}

Ein Graph ist eine Sammlung von Punkten, bei denen einige Knotenpunkte durch Kanten verbunden sind. 
(Graph definition with cite)

(simple graph picture)

Graphen können sehr einfach dargestellt werden. Die Knoten eines Graphen können einfache, mehrfache oder gar keine Kanten haben. Darüber hinaus können mit sich selbst verbunden sein und eine Schleife bilden. Außerdem können zwei Punkte mit mehreren Kanten verbunden sein. Das erfüllt bei einem ungerichteten und ungewichteten Graphen allerdings keinen Zweck, da eine Kante für das Anzeigen der Relation ausreichend ist.

Es sollte aber nicht vergessen werden, dass ein Graph nicht die räumliche Position der Objekte sondern nur ihre Relation zueinander ausdrückt! Es können also zwei graphen unterschiedlich angeordnet sein und dennoch einander entsprechen. Man spricht hier von (isomorphen ? NACHSCHAUEN) Graphen.

Gerichtete Graphen
Für das Routing ist es wichtig von einem Knoten zu einem anderen zu gelangen. Im Gegensatz zu einem ungerichteten Graphen können bei einem gerichteten Graphen Kanten nur in einer Richtung durchlaufen werden. Die Kanten werden daher durch Pfeile anstatt Linien dargestellt. 

(Abb gerichtet Graph)

Gewichtete Graphen
In dieser Arbeit bezeichnet der Begriff "gewichteter Graph" einen Kanten-gewichteten Graphen, bei dem jeder Kante ein Wert zugewiesen wird. Neben dem Kanten-gewichteten gibt es auch Knoten-gewichtete Graphen, bei welchen entsprechend die Knoten gewichtet werden. Diese werden aber nur für wenige Problemstellungen gebraucht und sind hier nicht von Belang. Gewichtete Graphen können gerichtet und ungerichtet sein. Ein klassisches Beispiel hierfür ist der Linien-Netzplan einer Bahn, bei dem die Knotenpunkte einzelne Haltestellen darstellen und die Kantengewichte die benötigten Minuten beinhalten.

(Abb gewichtet Graph)

Mit gewichteten Graphen können diverse Problemstellungen gelöst werden, zum Beispiel die Bestimmung maximaler (Durch-)Flüsse in Rohrsystemen oder das Berechnen kürzester Wege.

\subsection{Routing}

Routing ist ein Begriff aus der Nachrichtentechnik und bezeichnet "das Ermitteln eines geeigneten [besonders günstigen] Wegs für die Übertragung von Daten in einem Netzwerk"(cite DUDEN). In der Navigation bedeutet Routing ebenfalls das Ermitteln eines besonders günstigen (häufig des schnellsten) Weges von A nach B. Das Netzwerk in dem dieser Weg ermittelt werden soll ist in diesem Fall ein gerichteter und gewichteter Graph, der ein reales Straßen- oder Wegenetz repräsentiert.

Wenn die Kante eines solchen Graphen also eine Straße darstellt, beinhaltet das Kantengewicht dabei die Distanz. Die Richtung der Kante ist äquivalent zur erlaubten Fahrtrichtung zum Beispiel im Fall von Einbahnstraßen oder Autobahnen.

Eine der naheliegendsten Problemstellungen ist das "shortest path problem" bei welchem der kürzeste weg von einer Ecke zu entweder einer anderen Ecke, allen anderen Ecken 

- what is shortest pathing
Das Problem des kürzesten Weges 


what algorithms can be used

algorithmus Dijkstra 

+ contraction hierarchies

\subsection{Isochronen Berechnung}

Wenn in einem gewichteten Graphen die Kanten die benötigte Zeit enthalten um von einem Knoten zum nächsten zu gelangen, können damit Isochronen berechnet werden.
Isochronen sind Linien gleicher Zeit. Für die Berechnung wird ein Zentrum und das Zeitlimit benötigt. Das resultierende Objekt ist ein Polygon, welches jeden in gegebenem Zeitlimit erreichbaren Punkt beinhaltet.
Isochronen können auf unterschiedliche Arten berechnet werden. 

Benutzt routing

+ shaping (darstellung)

marching squares grid based (recursive grid?), delauny erklären shape based(triangles) + unsere implementierung shape based (points)

Gitter basierter Ansatz:
Beim "marching squares" algorithmus wird um das Zentrum ein Gitter über dem Graphen gebildet. Die Eckpunkte des Gitters erhalten dabei die Werte des nächsten Punktes auf dem Graphen. Anschließend werden auf den Kanten des Gitters diejenigen Punkte markiert, bei denen der Wert mit dem gesuchten Zeitlimit übereinstimmt. Die markierten Punkte werden verbunden und bilden schließlich die Isochrone.
Der Vorteil dieses Algorithmus ist, dass die Maschengröße des Gitters angepasst werden kann. Bei sehr kleinen Maschen liefert der Algorithmus ein sehr genaues Ergebnis. Allerdings werden dabei mehr Ressourcen zur Berechnung gebraucht. Daher können nur kleine Gebiete und geringe Zeitlimits berechnet werden. Bei weiten Maschen ist der Algorithmus dagegen sehr schnell und kann große Distanzen und lange Zeitspannen berechnen. Das Ergebnis ist dementsprechend aber auch ungenauer.

TIN:
TODO

Shape based:
- Uses Dijkstra algorithm to mark all reachable Edges
- Extract points from edge geometry(real world geom, becaus in graph we only have simple straight lines between nodes, geometry is saved in the graph edge as parameter)
- invisible bubbles (buffer) will be drawn around points so close points can be skipped
- build a point cloud with remaining points
- use Alpha shapes algorithm to draw isochrones around the point line

 Distance limitation 100km. resulting in different time limitation for different profiles (1hour car , 5hours bike, 20 hours foot)

Advantage: accurate, fast computation time
Disadvantage: Alpha shape library -> no holes.



\section{Generierung des Routing-Profils}

\subsection{Informations Erhebung}
Fragebogen für Feuerwehr Lützelburg\footnote{Lützelburg ist eine stadt in Bayern}

\subsection{Limitierende Faktoren}

\subsection{Erweiternde Faktoren}

\section{Ergebnisse}
\paragraph{
Vergleiche zwischen Firetruck - Emergency Vehicle - Car - Heavy Vehicle
+ exemplarische reale beispiele!
}
\paragraph{
\color{red}
Hier ein paar räumliche Beispiele aussuchen und exemplarisch zeigen (Routing und Isochronen), welche Änderungen das Profil mit sich bringt, einerseits innerstädtisch, andererseits auch außerhalb der Stadt. Denn Änderungen als solches ist bisschen schwierig zu definieren. die Jungs aus Lützelburg fragen, welches Gebiet mit den bereits vorhandenen Profilen wirklich schlechte Ergebnisse bringt und jetzt mit Emergency weitaus realitischere!
}

\section{Fazit}

Much more accurate than previous profile. 

\section{Future Work/Ausblick}

Suche nach Löschwasser quellen um den Zielpunkt ( osm tag emergency=fire_hydrant )
Beschleunigung
rush hour / Tag & Nacht Unterscheidung (nachts weniger los auf Straßen/ Fußgängerzonen ...)



\section{Literatur}

http://www.geog.uni-heidelberg.de/md/chemgeo/geog/gis/corp07-aas-pn-az-final.pdf
http://neis-one.org/wp-content/uploads/2010/05/Diplomarbeit_Neis.pdf
Edsger W. Dijkstra. A note on two problems in connexion with graphs. Numerische Mathematik,
1:269–271, 1959. (http://www-m3.ma.tum.de/foswiki/pub/MN0506/WebHome/dijkstra.pdf)
http://www.agbf.de/pdf/Fortschreibung%20der%20Empfehlung%20der%20Qualitaetskriterien%20fuer%20die%20Bedarfsplanung%20in%20Staedten%20Layout%20neu%202016.pdf

Dudenredaktion (o. J.): „Tulpe“ auf Duden online. URL: http://www.duden.de/node/713429/revisions/1380643/view (Abrufdatum: 21.03.2016)

\end{document}
